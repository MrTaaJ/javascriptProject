(()=>{"use strict";const t=class{static callAddBook(){const t=document.createElement("div");return t.className="add-book",t.innerHTML='\n        <h1 id="add-header">Add New Books</h1>\n        <form class="form">\n          <input type="text" name="title" placeholder="Title" class="book-input title" required />\n          <input type="text" name="author" placeholder="Author" class="book-input author" required />\n          <select class = "book-input genre">\n                <option value = "choose" selected>Select Genre</option>\n                <option value = "Fiction">Fiction</option>\n                <option value = "Non-Fiction">Non-Fiction</option>\n                <option value = "other-genre">Third Semester </option>\n          </select>\n          <input type="text" name="category" placeholder="Category" class="book-input" required />\n          <button type="submit" class="form-button">Add</button>\n        </form>\n        ',t}},e=class{static callBookList(){const t=document.createElement("table");return t.className="table",t.innerHTML='\n        <thead>\n            <tr id="table-header">\n              <th>Author</th>\n              <th>Title</th>\n              <th>Genre</th>\n              <th></th>\n            </tr>\n        </thead>\n        <tbody class="book-container"></tbody>\n        ',t}},n=class{static callContactUs(){const t=document.createElement("div");return t.className="contact-us",t.innerHTML='\n        <h1 id="contact-header">Contact Information</h1>\n        <p>Do have any questions or you just want to say "Hello"?<br>\n        You can reach out to us!\n        </p>\n        <ul class="contact-info">\n          <l1>Our e-mail: mail@mail.com</l1>\n          <l1>Our phone number: 07030004321</l1>\n          <l1>Our address: Everywhere and Nowhere</l1>\n        </ul>\n        ',t}},o=class{constructor(t,e,n){this.title=t,this.author=e,this.id=n}static container(){return document.querySelector(".book-container")}clearData(){this.title.value="",this.author.value=""}addData(){const t={id:this.id,title:"",author:""};return t.title=this.title,t.author=this.author,t}static updateNewBook(t){const{id:e,title:n,author:o,genre:a}=t,c=document.createElement("tr"),r=document.createElement("td"),s=document.createElement("td"),l=document.createElement("td"),i=document.createElement("td"),d=document.createElement("button");c.className="book",d.id=e,d.className="remove-button",d.innerText="Remove",r.innerText=o,s.innerText=n,l.innerText=a,i.append(d),c.append(r,s,l),this.container().append(c)}static deleteBook(t){const e=document.querySelector(`#${t}`).parentElement.parentElement;this.container().removeChild(e)}},a=document.createDocumentFragment(),c=document.createElement("main");var r;c.className="main",c.id="main",r=e.callBookList(),c.appendChild(r),a.appendChild(class{static callHeader(){const t=document.createElement("header");return t.className="header",t.innerHTML='\n        <nav>\n          <a id="logo"\n                href="#home"\n                aria-label="Return Home button"\n                class="nav-button"\n                data-target="bookList"\n              >\n              Awesome Books\n          </a>\n          <ul class="nav-container">\n            <li>\n              <a\n                href="#book-list"\n                aria-label="Book List button"\n                class="nav-button"\n                data-target="bookList"\n              >\n                Book List\n              </a>\n            </li>\n            <li>\n              <a\n                href="#add-book"\n                aria-label="Add Book button"\n                class="nav-button"\n                data-target="addBook"\n              >\n                Add Book\n              </a>\n            </li>\n            <li>\n              <a\n                href="#contact-us"\n                aria-label="Contact Us button"\n                class="nav-button"\n                data-target="contactUs"\n              >\n                Contact Us\n              </a>\n            </li>\n          </ul>\n        </nav>\n        ',t}}.callHeader()),a.appendChild(c),a.appendChild(class{static callFooter(){const t=document.createElement("footer");return t.innerHTML="\n        <h3>Copyright</h2>\n        ",t}}.callFooter()),document.querySelector(".container").appendChild(a);const s=document.querySelector(".nav-container"),l=()=>{const t=document.querySelector(".title"),e=(document.querySelector(".button-compound"),document.querySelector(".book-container"));return{title:t,author,bookContainer:e}};let i,d=[];const u=t=>{localStorage.setItem("storeLocal",JSON.stringify(t))},m=t=>{if(t.preventDefault(),t.target.classList.contains("remove-button")){const{id:e}=t.target;o.deleteBook(e),d=d.filter((t=>t.id!==e)),u(d)}},h=t=>{t.forEach((t=>{o.updateNewBook(t)}))},b=n=>{if(n.target.classList.contains("button-compound")){const o={editBook:e.callBookList(),addBook:t.callAddBook(),bookList:e.callBookList()},a=n.target.dataset.target,c=o[a];k(c,a)}},p=t=>{t.preventDefault();const e=t.target.querySelectorAll(".book-input");i=(t=>{const e={id:`_${Math.random().toString(36).substring(2,9)}`};return t.forEach((t=>{e[t.name]=t.value})),e})(e),d.push(i),u(d),(()=>{const t=document.querySelector("#main");t.removeChild(t.childNodes[0]),t.appendChild(class{static callNewBookAddedSuccess(t){const{title:e,author:n,id:o,genre:a}=t,c=document.createElement("div");return c.className="success",c.innerHTML=`\n      <h3 id="success-header">New Book Added Successfully</h3>\n      <p class = "success-author" >${n}</p>\n      <p>${e} has been added to the ${a} successfully</p>\n      <div class = "button-compound">\n        <button id = "${o}" class="edit-button button" data-target="editBook">Edit</button>\n        <button class="addnew-button button" data-target="addBook">Add New</button>\n        <button class="list-button button" data-target="bookList">Book List</button>\n      </div>\n      `,c}}.callNewBookAddedSuccess(i));const{bookContainer:e,buttonCompound:n}=l();e.addEventListener("click",m),n.addEventListener("click",b),h(d)})()},k=(t,e)=>{const n=document.querySelector("#main");if(n.removeChild(n.childNodes[0]),n.appendChild(t),"bookList"===e){const{bookContainer:t}=l();t.addEventListener("click",m),h(d)}else"addBook"===e&&document.querySelector(".form").addEventListener("submit",p)};s.addEventListener("click",(o=>{if(o.target.classList.contains("nav-button")){const a={bookList:e.callBookList(),addBook:t.callAddBook(),contactUs:n.callContactUs()},c=o.target.dataset.target,r=a[c];k(r,c)}})),window.addEventListener("load",(()=>{const t=localStorage.getItem("storeLocal"),{bookContainer:e}=l();t&&(d=JSON.parse(t),h(d),e.addEventListener("click",m))}))})();